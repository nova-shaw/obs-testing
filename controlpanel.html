<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Control Panel</title>
  <meta name="google" content="notranslate">
  <link rel="stylesheet" href="base.css">
</head>
<body>
  <h1>Control Panel</h1>
  <button id="btnMsg">Say 'Control Panel!'</button>
  <div id="msgOutput">[msg]</div>
</body>
<script>
  const bc = new BroadcastChannel('chan');

  const msgOutput = document.querySelector('#msgOutput');

  const btnMsg = document.querySelector('#btnMsg');
  btnMsg.addEventListener('click', e => {
    bc.postMessage(`Control Panel! ${new Date().getTime()}`);
  })

  bc.addEventListener("message", (event) => {
    msgOutput.textContent = event.data;
  });
</script>
</html>
