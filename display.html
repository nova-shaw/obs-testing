<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Display</title>
  <meta name="google" content="notranslate">
</head>
<body>
  <h1>Dissssplay</h1>
  <button id="btnMsg">Say 'disssplay'</button>
  <div id="msgOutput">[msg]</div>
</body>
<script>
  const bc = new BroadcastChannel('chan');

  const msgOutput = document.querySelector('#msgOutput');

  const btnMsg = document.querySelector('#btnMsg');
  btnMsg.addEventListener('click', e => {
    bc.postMessage(`Disssplay! ${new Date().getTime()}`);
  });

  bc.addEventListener("message", (event) => {
    msgOutput.textContent = event.data;
    if (event.data.key && event.data.key == 'bg') {
      body.style.backgroundColor = event.data.val
    }
  });
</script>
</html>
